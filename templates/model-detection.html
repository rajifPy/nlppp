<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Detection - CERMAT</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/static/images/cermat.png">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="/static/images/cermat.png" alt="CERMAT Logo" class="logo-img">
                <span class="logo-text">CERMAT</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
                <a href="model-detection.html" class="nav-link active"><i class="fas fa-brain"></i> Model Detection</a>
                <a href="rule-detection.html" class="nav-link"><i class="fas fa-ruler"></i> Rule-Based Detection</a>
                <a href="history.html" class="nav-link"><i class="fas fa-history"></i> History</a>
                <a href="about.html" class="nav-link"><i class="fas fa-info-circle"></i> About</a>
            </div>
            <div class="nav-mobile-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h1><i class="fas fa-brain"></i> AI Model Detection</h1>
            <p>Classify research documents using advanced machine learning models</p>
            <div class="model-status">
                <div class="status-indicator" id="model-status-indicator"></div>
                <span id="model-status-text">Loading model...</span>
            </div>
        </div>

        <!-- Input Options -->
        <div class="detection-options">
            <div class="option-tabs">
                <button class="option-tab active" data-option="upload">
                    <i class="fas fa-upload"></i> Upload Document
                </button>
                <button class="option-tab" data-option="manual">
                    <i class="fas fa-keyboard"></i> Manual Input
                </button>
            </div>

            <!-- Upload Option -->
            <div class="option-content active" id="upload-option">
                <div class="upload-section">
                    <div class="upload-area" onclick="document.getElementById('file-input').click()">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <div class="upload-content">
                            <h3>Upload Research Document</h3>
                            <p>Drag & drop or click to browse files</p>
                            <p class="upload-formats">Supported: PDF, DOCX, DOC, TXT</p>
                            <p class="upload-limit">Max size: 16MB</p>
                        </div>
                        <input type="file" id="file-input" hidden accept=".pdf,.docx,.doc,.txt">
                    </div>
                    
                    <div class="file-info" id="file-info">
                        <div class="file-info-empty">
                            <i class="fas fa-file-alt"></i>
                            <p>No file selected</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Manual Input Option -->
            <div class="option-content" id="manual-option">
                <div class="manual-input-section">
                    <div class="input-group">
                        <label for="title-input"><i class="fas fa-heading"></i> Research Title</label>
                        <input type="text" id="title-input" placeholder="Enter research paper title...">
                    </div>
                    
                    <div class="input-group">
                        <label for="abstract-input"><i class="fas fa-file-alt"></i> Abstract</label>
                        <textarea id="abstract-input" rows="6" placeholder="Enter the abstract of your research..."></textarea>
                        <div class="char-count">
                            <span id="abstract-char-count">0</span> characters
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="keywords-input"><i class="fas fa-tags"></i> Keywords</label>
                        <textarea id="keywords-input" rows="3" placeholder="Enter keywords (comma-separated)..."></textarea>
                        <div class="keywords-hint">
                            <i class="fas fa-lightbulb"></i> Example: renewable energy, sustainability, climate change
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analyze Button -->
        <div class="analyze-section">
            <button id="analyze-btn" class="primary-btn analyze-btn" onclick="analyzeWithModel()">
                <i class="fas fa-search"></i>
                <span>Analyze with AI Model</span>
                <i class="fas fa-arrow-right"></i>
            </button>
            <p class="analyze-note">
                <i class="fas fa-info-circle"></i> The AI model will classify your document across all 17 SDGs
            </p>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="results-section">
            <div class="section-header">
                <h2><i class="fas fa-chart-bar"></i> Classification Results</h2>
                <div class="section-actions">
                    <button class="icon-btn" onclick="saveResults()" id="save-btn">
                        <i class="fas fa-save"></i> Save to History
                    </button>
                    <button class="icon-btn" onclick="exportResults()">
                        <i class="fas fa-download"></i> Export
                    </button>
                    <button class="icon-btn" onclick="clearResults()">
                        <i class="fas fa-trash-alt"></i> Clear
                    </button>
                </div>
            </div>
            
            <div id="results-container" class="results-container">
                <div class="empty-state">
                    <i class="fas fa-robot"></i>
                    <p>Upload a document or enter details above to see AI classification results</p>
                    <p class="empty-subtext">The model will predict SDGs relevance with confidence scores</p>
                </div>
            </div>
            
            <div id="detailed-results" class="detailed-results" style="display: none;">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- Model Info -->
        <div class="info-card">
            <h3><i class="fas fa-info-circle"></i> About the AI Model</h3>
            <div class="model-info-grid">
                <div class="info-item">
                    <i class="fas fa-microchip"></i>
                    <div>
                        <h4>Model Type</h4>
                        <p>Transformer-based (BERT variant)</p>
                    </div>
                </div>
                <div class="info-item">
                    <i class="fas fa-bullseye"></i>
                    <div>
                        <h4>Accuracy</h4>
                        <p>~85% on SDGs classification task</p>
                    </div>
                </div>
                <div class="info-item">
                    <i class="fas fa-graduation-cap"></i>
                    <div>
                        <h4>Training Data</h4>
                        <p>10,000+ labeled research papers</p>
                    </div>
                </div>
                <div class="info-item">
                    <i class="fas fa-clock"></i>
                    <div>
                        <h4>Processing Time</h4>
                        <p>2-10 seconds per document</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <!-- Same as index.html -->
        </div>
    </footer>

    <script src="/static/js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setupModelDetection();
            checkModelStatus();
            setupMobileMenu();
        });
    </script>
</body>
</html>